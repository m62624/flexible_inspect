[package]
name = "pystval"
version = "1.2.0"
authors = ["Mansur Azatbek <mansur62624@gmail.com>"]
description = "Library for creating a custom validator"
edition = "2021"
rust-version = "1.60"


[lib]
name = "pystval"
crate-type = ["cdylib", "rlib"]


# Core library dependencies
[dependencies]
env_logger = "0.10.0"
log = "0.4.19"
async-std = { version = "1.12.0", features = ["attributes"] }
lazy_static = "1.4.0"
fancy-regex = "0.11.0"
regex = "1.9.1"
grex = "1.4.1"
indexmap = "2.0.0"
thiserror = "1.0.44"

# Next are the optional libraries for building for other targets

# Python bindings
# ========================================================
pyo3 = { version = "0.19.1", optional = true, features = ["abi3", "abi3-py37","generate-import-lib", "multiple-pymethods"] }
# ========================================================


# Wasm bindings
# ========================================================
wasm-bindgen = { version = "0.2.87", optional = true }
# ========================================================


# Module and library switcher for compilations for different platforms
# To maximize flexibility and support for different features or platforms, 
# our project uses conditional compilation. 
# With this approach, we can determine which parts of the code will be included in the final build, 
# depending on the build configuration.

# Add new libraries in a format for different purposes
# --------------------------------------------------------
#    custom-lib = { version = "x.x.x", optional=true } 
# --------------------------------------------------------

# specify in `features` any name for future compilations
# --------------------------------------------------------
#    custom_name_feautre = ["dep:custom-lib"]
# --------------------------------------------------------
# more information at https://doc.rust-lang.org/cargo/reference/features.html


# ========================================================
[features]
python-lib = ["dep:pyo3"]
wasm = ["dep:wasm-bindgen"]
# ========================================================


# Another metadata
[package.metadata.maturin]
category = "tool"
